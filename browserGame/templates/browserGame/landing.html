{% extends 'base.html' %}
{% block content %}
{% if user.is_authenticated and character %}
    <p>Welcome to the season {{ season.id }}</p>
    <div>
        <h2>NOM: {{ character.nickname }}</h2>
        <p>LVL: {{ character.level }}</p>
        <p>EXP: {{ character.exp }}</p>
        <p>MANA: {{ character.mana }}</p>
        <p>VIDA: {{ character.life }}</p>
    </div>
    <table class="action-table">
        <thead>
            <tr>
            <th colspan="3">ACCIONS</th>
            </tr>
        </thead>
        <thead>
            <tr>
            <th>TIPUS</th>
            <th>OBJECTIU</th>
            <th>ATAC</th>
            </tr>
        </thead>
        <tbody>
            {% for action in actions %}
            <tr>
                <td>{{ action.action.category }}</td>
                <td>{{ action.target }}</td>
                <td>{{ action.action.name }}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
    <table class="ranking-table">
        <thead>
            <tr>
            <th colspan="3">RANKING</th>
            </tr>
        </thead>
        <thead>
            <tr>
            <th>USUARI</th>
            <th>PERSONATGE</th>
            <th>NIVELL</th>
            </tr>
        </thead>
        <tbody>
            {% for character in characters %}
            <tr>
                <td>{{ character.user }}</td>
                <td>{{ character.nickname }}</td>
                <td>{{ character.level }}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
{% else %}
    <p>The season started on <strong>{{ season.game_datetime_starts }}</strong></p>
    <p>Season ends <strong>{{ season.game_datetime_ends }}</strong></p>
    <p>Next recharge <strong>{{ season.time_until_next_recharge }}</strong></p>
    <p>WHAT ARE YOU WAITING TO JOIN!</p>
{% endif %}
{% endblock %}